<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <title>Index Page</title>
    <link rel="stylesheet" type="text/css" th:href="@{/css/style.css}">
</head>
<body>
<div class="container">
    <h1>Index Page</h1>
    <div class="button-group">
        <!-- 로그인하지 않은 경우: 로그인 버튼만 보임 -->
        <a th:href="@{/login}" class="btn" sec:authorize="!isAuthenticated()">로그인</a>

        <!-- 로그인한 경우: 추가 버튼 그룹 보임 -->
        <div sec:authorize="isAuthenticated()">
            <button class="btn dummy-btn">로그인 에러</button>
            <button class="btn dummy-btn">접근 에러</button>
            <button class="btn dummy-btn">유저 페이지</button>

            <!-- 학생 페이지 버튼: ROLE_STUDENT 권한이 있는 경우 보이도록 설정 -->
            <a th:href="@{/student/main}" class="btn" sec:authorize="hasRole('STUDENT')">학생 페이지</a>

            <!-- 학생 페이지 버튼: ROLE_STUDENT 권한이 있는 경우 보이도록 설정 -->
            <a th:href="@{/teacher/main}" class="btn" sec:authorize="hasRole('TEACHER')">선생님 페이지</a>

            <!-- 관리자 페이지 버튼 -->
            <a th:href="@{/admin}" class="btn" sec:authorize="hasRole('ADMIN')">관리자 페이지</a>

            <form th:action="@{/logout}" method="post" style="display: inline;">
                <button type="submit" class="btn">로그 아웃</button>
            </form>
        </div>
    </div>
</div>
<script type="text/javascript" th:src="@{/js/script.js}"></script>
</body>
</html>
